package cz.cvut.fel.restauracefel.hibernate;
// Generated 17.7.2011 22:33:15 by Hibernate Tools 3.2.1.GA

import java.util.List;

/**
 * Attendance generated by hbm2java
 */
public class Attendance extends DBEntity implements java.io.Serializable {

    private static final long serialVersionUID = 1L;
    private int idAttendance;
    private int idUser;
    private int idWorkshift;

    public Attendance() {
    }

    public Attendance(int idAttendance, int idUser) {
        this.idAttendance = idAttendance;
        this.idUser = idUser;

    }

    public Attendance(int idAttendance, int idUser, int idWorkshift) {
        this.idAttendance = idAttendance;
        this.idUser = idUser;
        this.idWorkshift = idWorkshift;
    }

    public int getIdAttendance() {
        return this.idAttendance;
    }

    public void setIdAttendance(int idAttendance) {
        this.idAttendance = idAttendance;
    }

    public int getIdUser() {
        return this.idUser;
    }

    public void setIdUser(int idUser) {
        this.idUser = idUser;
    }

    public int getIdWorkshift() {
        return this.idWorkshift;
    }

    public void setIdWorkshift(int idWorkshift) {
        this.idWorkshift = idWorkshift;
    }

    public void create() {
        create(this);
    }

    public static List findByWorkShiftId(Integer id) {
        String[] paramNames = {"id"};
        String[] paramTypes = {"Integer"};
        Object[] paramValues = {id};

        String idParamName = "idWorkshift";
        String className = "Attendance";

        // POZOR, tady parametrem neni nazev tabulky a sloupecku, ale nazev tridy a jejich atributu
        List res = executeQuery("from " + className + " x where x." + idParamName + " = :id", paramNames, paramTypes, paramValues);

        if (res == null || res.isEmpty()) {
            return null;
        }

        return res;
    }

    public static Attendance findByWorkShiftAndUser(int workShiftId, int userId) {
        String[] paramNames = {"id1", "id2"};
        String[] paramTypes = {"Integer", "Integer"};
        Object[] paramValues = {workShiftId, userId};

        String idParamName1 = "idWorkshift";
        String idParamName2 = "idUser";
        String className = "Attendance";

        // POZOR, tady parametrem neni nazev tabulky a sloupecku, ale nazev tridy a jejich atributu
        List res = executeQuery("from " + className + " x where x." + idParamName1 + " = :id1 and " + "x." + idParamName2 + " = :id2", paramNames, paramTypes, paramValues);

        if (res == null || res.isEmpty()) {
            return null;
        }

        return (Attendance) res.get(0);
    }

    public void delete() {
        delete(this);
    }
}
